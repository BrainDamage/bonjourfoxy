<html>
<head>
<script type="text/javascript">
function go()   {
netscape.security.PrivilegeManager.enablePrivilege("UniversalXPConnect");
var obj=Components.classes["@andrew.tj.id.au/dsdregister;1"].getService(); // createInstance();
obj.QueryInterface(Components.interfaces.IDSDREGISTER);
obj.interfaceIndex=0;
obj.autorename = true;
obj.name = "Twitter: AndrewTJ";
obj.registrationType = "_http._tcp";
obj.registrationDomain = "local.";
obj.targetHost = "twitter.com";
obj.targetPort = "80";
obj.txtRecordKey = "path";
obj.txtRecordValue = "/AndrewTJ";
document.write("Status: " + obj.status + "<br/>");
obj.start();
// document.write("Status: " + obj.status + "<br/>");
// obj.stop();
// document.write("Status: " + obj.status + "\nLast Domain:" + obj.lastDomain + "\nLast Error Code: " + obj.lastErrorcode + "<br/>");
// obj=null;
}
</script>
</head>
<body onload='go()'>
<textarea id='foo'></textarea>
<input type='button' onclick='alert("Status: " + obj.status + "\nLast Domain:" + obj.lastDomain + "\nLast Error Code: " + obj.lastErrorcode);'>
</html>
